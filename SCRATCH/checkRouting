#!/usr/bin/perl
use Benchmark;
my $t0 = new Benchmark;

my $lef_file = "";
my $def_file = "";
my $cloud_share_path;
my $drupal_temp_path;


for(my $i =0; $i<=$#ARGV;$i++){
  if($ARGV[$i] eq "-lef"){$lef_file = $ARGV[$i+1];} 
  elsif($ARGV[$i] eq "-def"){$def_file = $ARGV[$i+1];} 
  elsif($ARGV[$i] eq "-drupal_temp_storage_path"){$drupal_temp_path = $ARGV[$i+1];}
  elsif($ARGV[$i] eq "-cloud_share_path"){$cloud_share_path = $ARGV[$i+1];}
}#for

open(WRITE,">script");
print WRITE "read_lef -lef $lef_file -tech also\n";
print WRITE "read_def -def $def_file --all\n";
print WRITE "check_routing_coord\n";
print WRITE "exit\n";
close (WRITE);

system("$cloud_share_path/apps/content/drupal_app/proton -f script --nolog");
system("cp report.txt $drupal_temp_path/");

my $t1 = new Benchmark;
my $td = timediff($t1,$t0);
print "checkRouting :",timestr($td),"\n";

