#!/usr/bin/perl
use Benchmark;
my $t0 = new Benchmark;

my $drupal_temp_path; 
my $cloud_share_path; 
my @lefFileList = ();

for(my $i =0; $i<=$#ARGV;$i++){
  if($ARGV[$i] eq "-lef"){
    my $lefFileStr = $ARGV[$i+1];
    $lefFileStr =~ s/\{|\}//g;
    push(@lefFileList, split(/\,/, $lefFileStr));
  }
  if($ARGV[$i] eq "-cloud_share_path"){$cloud_share_path = $ARGV[$i+1];} 
  if($ARGV[$i] eq "-drupal_temp_storage_path"){ $drupal_temp_path = $ARGV[$i+1];}
}#for


open(WRITE,">script");
foreach my $lef (@lefFileList){
  print WRITE "read_lef -lef $lef -tech also\n";
}
print WRITE "create_pad_cell_info_frm_lef\n";
print WRITE "exit\n";
system("$cloud_share_path/apps/content/drupal_app/proton -f script --nolog");
system("mv cell_info.txt $drupal_temp_path/");


my $t1 = new Benchmark;
my $td = timediff($t1, $t0);
print "padTemplate took: ",timestr($td),"\n";

